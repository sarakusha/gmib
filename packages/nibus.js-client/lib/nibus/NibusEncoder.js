"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _stream = require("stream");

/*
 * @license
 * Copyright (c) 2019. OOO Nata-Info
 * @author Andrei Sarakeev <avs@nata-info.ru>
 *
 * This file is part of the "@nata" project.
 * For the full copyright and license information, please view
 * the EULA file that was distributed with this source code.
 */
// const debugSerial = debugFactory('nibus-serial:encoder');
class NibusEncoder extends _stream.Transform {
  constructor(options) {
    super({ ...options,
      writableObjectMode: true
    });
  } // tslint:disable-next-line


  _transform(chunk, _encoding, callback) {
    const chunks = Array.isArray(chunk) ? chunk : [chunk];
    chunks.forEach(datagram => {
      // debugSerial(printBuffer(datagram.raw));
      this.push(datagram.raw);
    });
    callback();
  }

}

exports.default = NibusEncoder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9uaWJ1cy9OaWJ1c0VuY29kZXIudHMiXSwibmFtZXMiOlsiTmlidXNFbmNvZGVyIiwiVHJhbnNmb3JtIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwid3JpdGFibGVPYmplY3RNb2RlIiwiX3RyYW5zZm9ybSIsImNodW5rIiwiX2VuY29kaW5nIiwiY2FsbGJhY2siLCJjaHVua3MiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiZGF0YWdyYW0iLCJwdXNoIiwicmF3Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFVQTs7QUFWQTs7Ozs7Ozs7O0FBZUE7QUFFZSxNQUFNQSxZQUFOLFNBQTJCQyxpQkFBM0IsQ0FBcUM7QUFDbERDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUE2QjtBQUN0QyxVQUFNLEVBQ0osR0FBR0EsT0FEQztBQUVKQyxNQUFBQSxrQkFBa0IsRUFBRTtBQUZoQixLQUFOO0FBSUQsR0FOaUQsQ0FRbEQ7OztBQUNPQyxFQUFBQSxVQUFQLENBQWtCQyxLQUFsQixFQUE4QkMsU0FBOUIsRUFBaURDLFFBQWpELEVBQThFO0FBQzVFLFVBQU1DLE1BQU0sR0FBR0MsS0FBSyxDQUFDQyxPQUFOLENBQWNMLEtBQWQsSUFBdUJBLEtBQXZCLEdBQStCLENBQUNBLEtBQUQsQ0FBOUM7QUFDQUcsSUFBQUEsTUFBTSxDQUFDRyxPQUFQLENBQWdCQyxRQUFELElBQTZCO0FBQzFDO0FBQ0EsV0FBS0MsSUFBTCxDQUFVRCxRQUFRLENBQUNFLEdBQW5CO0FBQ0QsS0FIRDtBQUlBUCxJQUFBQSxRQUFRO0FBQ1Q7O0FBaEJpRCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE5LiBPT08gTmF0YS1JbmZvXG4gKiBAYXV0aG9yIEFuZHJlaSBTYXJha2VldiA8YXZzQG5hdGEtaW5mby5ydT5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgXCJAbmF0YVwiIHByb2plY3QuXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2Ugdmlld1xuICogdGhlIEVVTEEgZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKi9cblxuaW1wb3J0IHsgVHJhbnNmb3JtLCBUcmFuc2Zvcm1DYWxsYmFjaywgVHJhbnNmb3JtT3B0aW9ucyB9IGZyb20gJ3N0cmVhbSc7XG4vLyBpbXBvcnQgZGVidWdGYWN0b3J5IGZyb20gJ2RlYnVnJztcbi8vIGltcG9ydCB7IHByaW50QnVmZmVyIH0gZnJvbSAnLi9oZWxwZXInO1xuaW1wb3J0IE5pYnVzRGF0YWdyYW0gZnJvbSAnLi9OaWJ1c0RhdGFncmFtJztcblxuLy8gY29uc3QgZGVidWdTZXJpYWwgPSBkZWJ1Z0ZhY3RvcnkoJ25pYnVzLXNlcmlhbDplbmNvZGVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5pYnVzRW5jb2RlciBleHRlbmRzIFRyYW5zZm9ybSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBUcmFuc2Zvcm1PcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHdyaXRhYmxlT2JqZWN0TW9kZTogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICBwdWJsaWMgX3RyYW5zZm9ybShjaHVuazogYW55LCBfZW5jb2Rpbmc6IHN0cmluZywgY2FsbGJhY2s6IFRyYW5zZm9ybUNhbGxiYWNrKSB7XG4gICAgY29uc3QgY2h1bmtzID0gQXJyYXkuaXNBcnJheShjaHVuaykgPyBjaHVuayA6IFtjaHVua107XG4gICAgY2h1bmtzLmZvckVhY2goKGRhdGFncmFtOiBOaWJ1c0RhdGFncmFtKSA9PiB7XG4gICAgICAvLyBkZWJ1Z1NlcmlhbChwcmludEJ1ZmZlcihkYXRhZ3JhbS5yYXcpKTtcbiAgICAgIHRoaXMucHVzaChkYXRhZ3JhbS5yYXcpO1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn1cbiJdfQ==