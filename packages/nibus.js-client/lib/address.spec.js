"use strict";

require("source-map-support/register");

var _Address = _interopRequireWildcard(require("./Address"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

/*
 * @license
 * Copyright (c) 2019. OOO Nata-Info
 * @author Andrei Sarakeev <avs@nata-info.ru>
 *
 * This file is part of the "@nata" project.
 * For the full copyright and license information, please view
 * the EULA file that was distributed with this source code.
 */
describe('Address', () => {
  describe('constructor', () => {
    test('should be empty', () => {
      const empty = new _Address.default();
      expect(empty).toHaveProperty('type', _Address.AddressType.empty);
      expect(empty.isEmpty).toBe(true);
      expect(new _Address.default(empty.toString())).toHaveProperty('isEmpty', true);
      expect(new _Address.default([0, 0, 0, 0, 0, 0])).toHaveProperty('isEmpty', true);
    });
    test('should be net', () => {
      const net = expect(new _Address.default('FE.56.34'));
      net.toHaveProperty('type', _Address.AddressType.net);
      net.toHaveProperty('domain', 0xFE);
      net.toHaveProperty('subnet', 0x56);
      net.toHaveProperty('device', 0x34);
    });
    test('should be group', () => {
      const group = expect(new _Address.default('255.128'));
      group.toHaveProperty('domain', 255);
      group.toHaveProperty('group', 128);
      group.toHaveProperty('type', _Address.AddressType.group);
    });
    test('should be string mac', () => {
      const address = new _Address.default('01::FF:23');
      const address2 = new _Address.default('::45:77');
      const empty = new _Address.default('::0');
      expect(address).toHaveProperty('type', _Address.AddressType.mac);
      expect(address.mac && address.mac.equals(Buffer.from([1, 0, 0, 0, 255, 0x23]))).toBe(true);
      expect(address2.mac && address2.mac.equals(Buffer.from([0, 0, 0, 0, 0x45, 0x77]))).toBe(true);
      expect(empty).toHaveProperty('type', _Address.AddressType.empty);
    });
    test('should be array mac', () => {
      const array = [1, 2, 3, 4, 5, 6];
      const mac = new Uint8Array(array);
      const address = new _Address.default(mac);
      expect(address.mac && address.mac.equals(mac)).toBe(true);
      expect(address).toHaveProperty('type', _Address.AddressType.mac);
    });
  });
  describe('comparision', () => {
    const a = new _Address.default('::45:78');
    const b = new _Address.default([0, 0, 0, 0, 0x45, 0x78]);
    const c = new _Address.default();
    const d = new _Address.default('::45:79');
    test('should be equal', () => {
      expect(a.equals(b)).toBe(true);
      expect(a.equals(a)).toBe(true);
      expect(c.equals(_Address.default.empty)).toBe(true);
      expect(a.equals(new _Address.default(a))).toBe(true);
    });
    test('shouldn\'t be equal', () => {
      expect(a.equals(c)).toBe(false);
      expect(a.equals(d)).toBe(false);
    });
  });
  test('toString', () => {
    expect(new _Address.default().toString()).toBe('::0');
    expect(_Address.default.broadcast.toString()).toBe('FF:FF:FF:FF:FF:FF');
    expect(new _Address.default('::12:3f').toString()).toBe('::12:3F');
    expect(new _Address.default([1, 2, 3, 4, 5, 6]).toString()).toBe('01:02:03:04:05:06');
    expect(new _Address.default('ff.0.1').toString()).toBe('255.0.1');
    expect(new _Address.default('12.34').toString()).toBe('12.34');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hZGRyZXNzLnNwZWMudHMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJ0ZXN0IiwiZW1wdHkiLCJBZGRyZXNzIiwiZXhwZWN0IiwidG9IYXZlUHJvcGVydHkiLCJBZGRyZXNzVHlwZSIsImlzRW1wdHkiLCJ0b0JlIiwidG9TdHJpbmciLCJuZXQiLCJncm91cCIsImFkZHJlc3MiLCJhZGRyZXNzMiIsIm1hYyIsImVxdWFscyIsIkJ1ZmZlciIsImZyb20iLCJhcnJheSIsIlVpbnQ4QXJyYXkiLCJhIiwiYiIsImMiLCJkIiwiYnJvYWRjYXN0Il0sIm1hcHBpbmdzIjoiOzs7O0FBVUE7Ozs7QUFWQTs7Ozs7Ozs7O0FBWUFBLFFBQVEsQ0FBQyxTQUFELEVBQVksTUFBTTtBQUN4QkEsRUFBQUEsUUFBUSxDQUFDLGFBQUQsRUFBZ0IsTUFBTTtBQUM1QkMsSUFBQUEsSUFBSSxDQUFDLGlCQUFELEVBQW9CLE1BQU07QUFDNUIsWUFBTUMsS0FBSyxHQUFHLElBQUlDLGdCQUFKLEVBQWQ7QUFDQUMsTUFBQUEsTUFBTSxDQUFDRixLQUFELENBQU4sQ0FBY0csY0FBZCxDQUE2QixNQUE3QixFQUFxQ0MscUJBQVlKLEtBQWpEO0FBQ0FFLE1BQUFBLE1BQU0sQ0FBQ0YsS0FBSyxDQUFDSyxPQUFQLENBQU4sQ0FBc0JDLElBQXRCLENBQTJCLElBQTNCO0FBQ0FKLE1BQUFBLE1BQU0sQ0FBQyxJQUFJRCxnQkFBSixDQUFZRCxLQUFLLENBQUNPLFFBQU4sRUFBWixDQUFELENBQU4sQ0FBc0NKLGNBQXRDLENBQXFELFNBQXJELEVBQWdFLElBQWhFO0FBQ0FELE1BQUFBLE1BQU0sQ0FBQyxJQUFJRCxnQkFBSixDQUFZLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsQ0FBWixDQUFELENBQU4sQ0FBd0NFLGNBQXhDLENBQXVELFNBQXZELEVBQWtFLElBQWxFO0FBQ0QsS0FORyxDQUFKO0FBUUFKLElBQUFBLElB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LENBQUNnQixDQUFDLENBQUNMLE1BQUYsQ0FBU1EsQ0FBVCxDQUFELENBQU4sQ0FBb0JmLElBQXBCLENBQXlCLEtBQXpCO0FBQ0QsS0FIRyxDQUFKO0FBSUQsR0FmTyxDQUFSO0FBaUJBUCxFQUFBQSxJQUFJLENBQUMsVUFBRCxFQUFhLE1BQU07QUFDckJHLElBQUFBLE1BQU0sQ0FBQyxJQUFJRCxnQkFBSixHQUFjTSxRQUFkLEVBQUQsQ0FBTixDQUFpQ0QsSUFBakMsQ0FBc0MsS0FBdEM7QUFDQUosSUFBQUEsTUFBTSxDQUFDRCxpQkFBUXFCLFNBQVIsQ0FBa0JmLFFBQWxCLEVBQUQsQ0FBTixDQUFxQ0QsSUFBckMsQ0FBMEMsbUJBQTFDO0FBQ0FKLElBQUFBLE1BQU0sQ0FBQyxJQUFJRCxnQkFBSixDQUFZLFNBQVosRUFBdUJNLFFBQXZCLEVBQUQsQ0FBTixDQUEwQ0QsSUFBMUMsQ0FBK0MsU0FBL0M7QUFDQUosSUFBQUEsTUFBTSxDQUFDLElBQUlELGdCQUFKLENBQVksQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixDQUFaLEVBQWdDTSxRQUFoQyxFQUFELENBQU4sQ0FBbURELElBQW5ELENBQXdELG1CQUF4RDtBQUNBSixJQUFBQSxNQUFNLENBQUMsSUFBSUQsZ0JBQUosQ0FBWSxRQUFaLEVBQXNCTSxRQUF0QixFQUFELENBQU4sQ0FBeUNELElBQXpDLENBQThDLFNBQTlDO0FBQ0FKLElBQUFBLE1BQU0sQ0FBQyxJQUFJRCxnQkFBSixDQUFZLE9BQVosRUFBcUJNLFFBQXJCLEVBQUQsQ0FBTixDQUF3Q0QsSUFBeEMsQ0FBNkMsT0FBN0M7QUFDRCxHQVBHLENBQUo7QUFRRCxDQXJFTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkuIE9PTyBOYXRhLUluZm9cbiAqIEBhdXRob3IgQW5kcmVpIFNhcmFrZWV2IDxhdnNAbmF0YS1pbmZvLnJ1PlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHRoZSBcIkBuYXRhXCIgcHJvamVjdC5cbiAqIEZvciB0aGUgZnVsbCBjb3B5cmlnaHQgYW5kIGxpY2Vuc2UgaW5mb3JtYXRpb24sIHBsZWFzZSB2aWV3XG4gKiB0aGUgRVVMQSBmaWxlIHRoYXQgd2FzIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBzb3VyY2UgY29kZS5cbiAqL1xuXG5pbXBvcnQgQWRkcmVzcywgeyBBZGRyZXNzVHlwZSB9IGZyb20gJy4vQWRkcmVzcyc7XG5cbmRlc2NyaWJlKCdBZGRyZXNzJywgKCkgPT4ge1xuICBkZXNjcmliZSgnY29uc3RydWN0b3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGJlIGVtcHR5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHkgPSBuZXcgQWRkcmVzcygpO1xuICAgICAgZXhwZWN0KGVtcHR5KS50b0hhdmVQcm9wZXJ0eSgndHlwZScsIEFkZHJlc3NUeXBlLmVtcHR5KTtcbiAgICAgIGV4cGVjdChlbXB0eS5pc0VtcHR5KS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG5ldyBBZGRyZXNzKGVtcHR5LnRvU3RyaW5nKCkpKS50b0hhdmVQcm9wZXJ0eSgnaXNFbXB0eScsIHRydWUpO1xuICAgICAgZXhwZWN0KG5ldyBBZGRyZXNzKFswLCAwLCAwLCAwLCAwLCAwXSkpLnRvSGF2ZVByb3BlcnR5KCdpc0VtcHR5JywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYmUgbmV0JywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV0ID0gZXhwZWN0KG5ldyBBZGRyZXNzKCdGRS41Ni4zNCcpKTtcbiAgICAgIG5ldC50b0hhdmVQcm9wZXJ0eSgndHlwZScsIEFkZHJlc3NUeXBlLm5ldCk7XG4gICAgICBuZXQudG9IYXZlUHJvcGVydHkoJ2RvbWFpbicsIDB4RkUpO1xuICAgICAgbmV0LnRvSGF2ZVByb3BlcnR5KCdzdWJuZXQnLCAweDU2KTtcbiAgICAgIG5ldC50b0hhdmVQcm9wZXJ0eSgnZGV2aWNlJywgMHgzNCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgYmUgZ3JvdXAnLCAoKSA9PiB7XG4gICAgICBjb25zdCBncm91cCA9IGV4cGVjdChuZXcgQWRkcmVzcygnMjU1LjEyOCcpKTtcbiAgICAgIGdyb3VwLnRvSGF2ZVByb3BlcnR5KCdkb21haW4nLCAyNTUpO1xuICAgICAgZ3JvdXAudG9IYXZlUHJvcGVydHkoJ2dyb3VwJywgMTI4KTtcbiAgICAgIGdyb3VwLnRvSGF2ZVByb3BlcnR5KCd0eXBlJywgQWRkcmVzc1R5cGUuZ3JvdXApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGJlIHN0cmluZyBtYWMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZGRyZXNzID0gbmV3IEFkZHJlc3MoJzAxOjpGRjoyMycpO1xuICAgICAgY29uc3QgYWRkcmVzczIgPSBuZXcgQWRkcmVzcygnOjo0NTo3NycpO1xuICAgICAgY29uc3QgZW1wdHkgPSBuZXcgQWRkcmVzcygnOjowJyk7XG4gICAgICBleHBlY3QoYWRkcmVzcykudG9IYXZlUHJvcGVydHkoJ3R5cGUnLCBBZGRyZXNzVHlwZS5tYWMpO1xuICAgICAgZXhwZWN0KGFkZHJlc3MubWFjICYmIGFkZHJlc3MubWFjLmVxdWFscyhCdWZmZXIuZnJvbShbMSwgMCwgMCwgMCwgMjU1LCAweDIzXSkpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGFkZHJlc3MyLm1hYyAmJiBhZGRyZXNzMi5tYWMuZXF1YWxzKEJ1ZmZlci5mcm9tKFswLCAwLCAwLCAwLCAweDQ1LCAweDc3XSkpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGVtcHR5KS50b0hhdmVQcm9wZXJ0eSgndHlwZScsIEFkZHJlc3NUeXBlLmVtcHR5KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBiZSBhcnJheSBtYWMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhcnJheSA9IFsxLCAyLCAzLCA0LCA1LCA2XTtcbiAgICAgIGNvbnN0IG1hYyA9IG5ldyBVaW50OEFycmF5KGFycmF5KTtcbiAgICAgIGNvbnN0IGFkZHJlc3MgPSBuZXcgQWRkcmVzcyhtYWMpO1xuICAgICAgZXhwZWN0KGFkZHJlc3MubWFjICYmIGFkZHJlc3MubWFjLmVxdWFscyhtYWMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGFkZHJlc3MpLnRvSGF2ZVByb3BlcnR5KCd0eXBlJywgQWRkcmVzc1R5cGUubWFjKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NvbXBhcmlzaW9uJywgKCkgPT4ge1xuICAgIGNvbnN0IGEgPSBuZXcgQWRkcmVzcygnOjo0NTo3OCcpO1xuICAgIGNvbnN0IGIgPSBuZXcgQWRkcmVzcyhbMCwgMCwgMCwgMCwgMHg0NSwgMHg3OF0pO1xuICAgIGNvbnN0IGMgPSBuZXcgQWRkcmVzcygpO1xuICAgIGNvbnN0IGQgPSBuZXcgQWRkcmVzcygnOjo0NTo3OScpO1xuICAgIHRlc3QoJ3Nob3VsZCBiZSBlcXVhbCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChhLmVxdWFscyhiKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChhLmVxdWFscyhhKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjLmVxdWFscyhBZGRyZXNzLmVtcHR5KSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChhLmVxdWFscyhuZXcgQWRkcmVzcyhhKSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gICAgdGVzdCgnc2hvdWxkblxcJ3QgYmUgZXF1YWwnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoYS5lcXVhbHMoYykpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGEuZXF1YWxzKGQpKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdGVzdCgndG9TdHJpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KG5ldyBBZGRyZXNzKCkudG9TdHJpbmcoKSkudG9CZSgnOjowJyk7XG4gICAgZXhwZWN0KEFkZHJlc3MuYnJvYWRjYXN0LnRvU3RyaW5nKCkpLnRvQmUoJ0ZGOkZGOkZGOkZGOkZGOkZGJyk7XG4gICAgZXhwZWN0KG5ldyBBZGRyZXNzKCc6OjEyOjNmJykudG9TdHJpbmcoKSkudG9CZSgnOjoxMjozRicpO1xuICAgIGV4cGVjdChuZXcgQWRkcmVzcyhbMSwgMiwgMywgNCwgNSwgNl0pLnRvU3RyaW5nKCkpLnRvQmUoJzAxOjAyOjAzOjA0OjA1OjA2Jyk7XG4gICAgZXhwZWN0KG5ldyBBZGRyZXNzKCdmZi4wLjEnKS50b1N0cmluZygpKS50b0JlKCcyNTUuMC4xJyk7XG4gICAgZXhwZWN0KG5ldyBBZGRyZXNzKCcxMi4zNCcpLnRvU3RyaW5nKCkpLnRvQmUoJzEyLjM0Jyk7XG4gIH0pO1xufSk7XG4iXX0=