"use strict";

require("source-map-support/register");

var _events = require("./events");

/*
 * @license
 * Copyright (c) 2019. OOO Nata-Info
 * @author Andrei Sarakeev <avs@nata-info.ru>
 *
 * This file is part of the "@nata" project.
 * For the full copyright and license information, please view
 * the EULA file that was distributed with this source code.
 */
const portsEvent = {
  event: 'ports',
  args: [[{
    portInfo: {
      comName: 'com1',
      productId: 1,
      vendorId: 2
    },
    description: {
      mib: 'test'
    }
  }, {
    portInfo: {
      comName: 'com2',
      productId: 1,
      vendorId: 2
    },
    description: {
      mib: 'test'
    }
  }]]
};
const addEvent = {
  event: 'add',
  args: [{
    portInfo: {
      comName: 'com3',
      productId: 1,
      vendorId: 2
    },
    description: {
      mib: 'test'
    }
  }]
};
const removeEvent = {
  event: 'remove',
  args: [{
    portInfo: {
      comName: 'com3',
      productId: 1,
      vendorId: 2
    },
    description: {
      mib: 'test'
    }
  }]
};
const testEvent = {
  event: 'test',
  args: [{
    a: 1,
    b: 2
  }]
};
const events = [portsEvent, addEvent, removeEvent];
describe('event tests', () => {
  test('PortsEvent', () => {
    expect(_events.PortsEventV.is(portsEvent)).toBeTruthy();
    expect(_events.PortAddedEventV.is(portsEvent)).toBeFalsy();
    expect(_events.PortRemovedEventV.is(portsEvent)).toBeFalsy();
  });
  test('PortAddedEvent', () => {
    expect(_events.PortsEventV.is(addEvent)).toBeFalsy();
    expect(_events.PortAddedEventV.is(addEvent)).toBeTruthy();
    expect(_events.PortRemovedEventV.is(addEvent)).toBeFalsy();
  });
  test('PortRemovedEvent', () => {
    expect(_events.PortsEventV.is(removeEvent)).toBeFalsy();
    expect(_events.PortAddedEventV.is(removeEvent)).toBeFalsy();
    expect(_events.PortRemovedEventV.is(removeEvent)).toBeTruthy();
  });
  test('Event', () => {
    expect(_events.EventV.is(portsEvent)).toBeTruthy();
    expect(_events.EventV.is(addEvent)).toBeTruthy();
    expect(_events.EventV.is(removeEvent)).toBeTruthy();
  });
  test('invalid event', () => {
    expect(_events.PortsEventV.is(testEvent)).toBeFalsy();
    expect(_events.PortAddedEventV.is(testEvent)).toBeFalsy();
    expect(_events.PortRemovedEventV.is(testEvent)).toBeFalsy();
    expect(_events.EventV.is(testEvent)).toBeFalsy();
  });
  test('stringify', () => {
    events.forEach(event => {
      expect(_events.EventFromString.encode(event)).toBe(JSON.stringify(event));
    });
  });
  test('parse', () => {
    events.forEach(event => {
      expect(_events.EventFromString.decode(JSON.stringify(event)).getOrElse(undefined)).toEqual(event);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pcGMvZXZlbnRzLnNwZWMudHMiXSwibmFtZXMiOlsicG9ydHNFdmVudCIsImV2ZW50IiwiYXJncyIsInBvcnRJbmZvIiwiY29tTmFtZSIsInByb2R1Y3RJZCIsInZlbmRvcklkIiwiZGVzY3JpcHRpb24iLCJtaWIiLCJhZGRFdmVudCIsInJlbW92ZUV2ZW50IiwidGVzdEV2ZW50IiwiYSIsImIiLCJldmVudHMiLCJkZXNjcmliZSIsInRlc3QiLCJleHBlY3QiLCJQb3J0c0V2ZW50ViIsImlzIiwidG9CZVRydXRoeSIsIlBvcnRBZGRlZEV2ZW50ViIsInRvQmVGYWxzeSIsIlBvcnRSZW1vdmVkRXZlbnRWIiwiRXZlbnRWIiwiZm9yRWFjaCIsIkV2ZW50RnJvbVN0cmluZyIsImVuY29kZSIsInRvQmUiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVjb2RlIiwiZ2V0T3JFbHNlIiwidW5kZWZpbmVkIiwidG9FcXVhbCJdLCJtYXBwaW5ncyI6Ijs7OztBQVVBOztBQVZBOzs7Ozs7Ozs7QUFxQkEsTUFBTUEsVUFBVSxHQUFHO0FBQ2pCQyxFQUFBQSxLQUFLLEVBQUUsT0FEVTtBQUVqQkMsRUFBQUEsSUFBSSxFQUFFLENBQUMsQ0FDTDtBQUNFQyxJQUFBQSxRQUFRLEVBQUU7QUFDUkMsTUFBQUEsT0FBTyxFQUFFLE1BREQ7QUFFUkMsTUFBQUEsU0FBUyxFQUFFLENBRkg7QUFHUkMsTUFBQUEsUUFBUSxFQUFFO0FBSEYsS0FEWjtBQU1FQyxJQUFBQSxXQUFXLEVBQUU7QUFBRUMsTUFBQUEsR0FBRyxFQUFFO0FBQVA7QUFOZixHQURLLEVBU0w7QUFDRUwsSUFBQUEsUUFBUSxFQUFFO0FBQ1JDLE1BQUFBLE9BQU8sRUFBRSxNQUREO0FBRVJDLE1BQUFBLFNBQVMsRUFBRSxDQUZIO0FBR1JDLE1BQUFBLFFBQVEsRUFBRTtBQUhGLEtBRFo7QUFNRUMsSUFBQUEsV0FBVyxFQUFFO0FBQUVDLE1BQUFBLEdBQUcsRUFBRTtBQUFQO0FBTmYsR0FUSyxDQUFEO0FB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ICogQ29weXJpZ2h0IChjKSAyMDE5LiBPT08gTmF0YS1JbmZvXG4gKiBAYXV0aG9yIEFuZHJlaSBTYXJha2VldiA8YXZzQG5hdGEtaW5mby5ydT5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgXCJAbmF0YVwiIHByb2plY3QuXG4gKiBGb3IgdGhlIGZ1bGwgY29weXJpZ2h0IGFuZCBsaWNlbnNlIGluZm9ybWF0aW9uLCBwbGVhc2Ugdmlld1xuICogdGhlIEVVTEEgZmlsZSB0aGF0IHdhcyBkaXN0cmlidXRlZCB3aXRoIHRoaXMgc291cmNlIGNvZGUuXG4gKi9cblxuaW1wb3J0IHtcbiAgRXZlbnRGcm9tU3RyaW5nLFxuICBQb3J0c0V2ZW50VixcbiAgSVBvcnRzRXZlbnQsXG4gIFBvcnRBZGRlZEV2ZW50VixcbiAgSVBvcnRBZGRlZEV2ZW50LFxuICBQb3J0UmVtb3ZlZEV2ZW50VixcbiAgSVBvcnRSZW1vdmVkRXZlbnQsXG4gIEV2ZW50Vixcbn0gZnJvbSAnLi9ldmVudHMnO1xuXG5jb25zdCBwb3J0c0V2ZW50ID0ge1xuICBldmVudDogJ3BvcnRzJyxcbiAgYXJnczogW1tcbiAgICB7XG4gICAgICBwb3J0SW5mbzoge1xuICAgICAgICBjb21OYW1lOiAnY29tMScsXG4gICAgICAgIHByb2R1Y3RJZDogMSxcbiAgICAgICAgdmVuZG9ySWQ6IDIsXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHsgbWliOiAndGVzdCcgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHBvcnRJbmZvOiB7XG4gICAgICAgIGNvbU5hbWU6ICdjb20yJyxcbiAgICAgICAgcHJvZHVjdElkOiAxLFxuICAgICAgICB2ZW5kb3JJZDogMixcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjogeyBtaWI6ICd0ZXN0JyB9LFxuICAgIH0sXG4gIF1dLFxufTtcblxuY29uc3QgYWRkRXZlbnQgPSB7XG4gIGV2ZW50OiAnYWRkJyxcbiAgYXJnczogW3tcbiAgICBwb3J0SW5mbzoge1xuICAgICAgY29tTmFtZTogJ2NvbTMnLFxuICAgICAgcHJvZHVjdElkOiAxLFxuICAgICAgdmVuZG9ySWQ6IDIsXG4gICAgfSxcbiAgICBkZXNjcmlwdGlvbjogeyBtaWI6ICd0ZXN0JyB9LFxuICB9XSxcbn07XG5cbmNvbnN0IHJlbW92ZUV2ZW50ID0ge1xuICBldmVudDogJ3JlbW92ZScsXG4gIGFyZ3M6IFt7XG4gICAgcG9ydEluZm86IHtcbiAgICAgIGNvbU5hbWU6ICdjb20zJyxcbiAgICAgIHByb2R1Y3RJZDogMSxcbiAgICAgIHZlbmRvcklkOiAyLFxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHsgbWliOiAndGVzdCcgfSxcbiAgfV0sXG59O1xuXG5jb25zdCB0ZXN0RXZlbnQgPSB7XG4gIGV2ZW50OiAndGVzdCcsXG4gIGFyZ3M6IFt7XG4gICAgYTogMSxcbiAgICBiOiAyLFxuICB9XSxcbn07XG5cbmNvbnN0IGV2ZW50cyA9IFtcbiAgcG9ydHNFdmVudCBhcyBJUG9ydHNFdmVudCxcbiAgYWRkRXZlbnQgYXMgSVBvcnRBZGRlZEV2ZW50LFxuICByZW1vdmVFdmVudCBhcyBJUG9ydFJlbW92ZWRFdmVudCxcbl07XG5cbmRlc2NyaWJlKCdldmVudCB0ZXN0cycsICgpID0+IHtcbiAgdGVzdCgnUG9ydHNFdmVudCcsICgpID0+IHtcbiAgICBleHBlY3QoUG9ydHNFdmVudFYuaXMocG9ydHNFdmVudCkpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoUG9ydEFkZGVkRXZlbnRWLmlzKHBvcnRzRXZlbnQpKS50b0JlRmFsc3koKTtcbiAgICBleHBlY3QoUG9ydFJlbW92ZWRFdmVudFYuaXMocG9ydHNFdmVudCkpLnRvQmVGYWxzeSgpO1xuICB9KTtcbiAgdGVzdCgnUG9ydEFkZGVkRXZlbnQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFBvcnRzRXZlbnRWLmlzKGFkZEV2ZW50KSkudG9CZUZhbHN5KCk7XG4gICAgZXhwZWN0KFBvcnRBZGRlZEV2ZW50Vi5pcyhhZGRFdmVudCkpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoUG9ydFJlbW92ZWRFdmVudFYuaXMoYWRkRXZlbnQpKS50b0JlRmFsc3koKTtcbiAgfSk7XG4gIHRlc3QoJ1BvcnRSZW1vdmVkRXZlbnQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFBvcnRzRXZlbnRWLmlzKHJlbW92ZUV2ZW50KSkudG9CZUZhbHN5KCk7XG4gICAgZXhwZWN0KFBvcnRBZGRlZEV2ZW50Vi5pcyhyZW1vdmVFdmVudCkpLnRvQmVGYWxzeSgpO1xuICAgIGV4cGVjdChQb3J0UmVtb3ZlZEV2ZW50Vi5pcyhyZW1vdmVFdmVudCkpLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG4gIHRlc3QoJ0V2ZW50JywgKCkgPT4ge1xuICAgIGV4cGVjdChFdmVudFYuaXMocG9ydHNFdmVudCkpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoRXZlbnRWLmlzKGFkZEV2ZW50KSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChFdmVudFYuaXMocmVtb3ZlRXZlbnQpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuICB0ZXN0KCdpbnZhbGlkIGV2ZW50JywgKCkgPT4ge1xuICAgIGV4cGVjdChQb3J0c0V2ZW50Vi5pcyh0ZXN0RXZlbnQpKS50b0JlRmFsc3koKTtcbiAgICBleHBlY3QoUG9ydEFkZGVkRXZlbnRWLmlzKHRlc3RFdmVudCkpLnRvQmVGYWxzeSgpO1xuICAgIGV4cGVjdChQb3J0UmVtb3ZlZEV2ZW50Vi5pcyh0ZXN0RXZlbnQpKS50b0JlRmFsc3koKTtcbiAgICBleHBlY3QoRXZlbnRWLmlzKHRlc3RFdmVudCkpLnRvQmVGYWxzeSgpO1xuICB9KTtcbiAgdGVzdCgnc3RyaW5naWZ5JywgKCkgPT4ge1xuICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgZXhwZWN0KEV2ZW50RnJvbVN0cmluZy5lbmNvZGUoZXZlbnQpKS50b0JlKEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3BhcnNlJywgKCkgPT4ge1xuICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgZXhwZWN0KEV2ZW50RnJvbVN0cmluZy5kZWNvZGUoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKS5nZXRPckVsc2UodW5kZWZpbmVkKSkudG9FcXVhbChldmVudCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=